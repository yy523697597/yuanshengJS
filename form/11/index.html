<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <title>文本内容进行关键字过滤</title>
  <link rel="stylesheet" type="text/css" href="../styles/bootstrap.min.css" media="all">
  <link rel="stylesheet" type="text/css" href="../styles/bootstrap-theme.min.css" media="all">
  <link rel="stylesheet" type="text/css" href="../styles/reset.css" media="all">
</head>
<body>
<div class="demo1">
  <form class="form-horizontal user-input" id="form" role="form">
    <div class="form-group">
      <label for="msg" class="col-sm-3 control-label">需要过滤的文本</label>
      <div class="col-sm-9">
        <textarea class="from-control" name="" id="msg" maxlength="50" placeholder="女|美少妇|日本 将会被过滤" cols="47"
                  rows="10"></textarea>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-3 col-sm-9">
        <button id="btn" type="button" class="btn btn-danger btn-block">过 滤</button>
      </div>
    </div>
    <div class="form-group">
      <label for="msg" class="col-sm-3 control-label">过滤后的文本</label>
      <div class="col-sm-9">
        <textarea class="from-control" name="" id="msg2" maxlength="50" placeholder="备注" cols="47" rows="10"></textarea>
      </div>
    </div>
  </form>
</div>
<script>
  (function () {
    var msg = document.getElementById('msg');
    var msg2 = document.getElementById('msg2');
    var btn = document.getElementById('btn');
    var key = /女|美少妇|日本/g;
    var v = '';
    btn.onclick = function () {
      v = msg.value;
      msg2.value = v.replace(key, function (str) {
        var r = '';
        for (var i = 0; i < str.length; i++) {
          r += '*';
        }
        return r;
      });
      return false;
    }
  }());
</script>
</body>
</html>